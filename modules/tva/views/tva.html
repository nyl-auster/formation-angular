<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">Calculette TVA</h3>
  </div>
  <div class="panel-body">

    <form name="tvaForm" class="form">
      <div class="form-group">

        <!--<pre> {{ tvaForm | json}}</pre>-->


        <label>Votre montant HT</label>
        <input type="text" name="montant" class="form-control"  ng-model="montant" odd/>
        <div ng-messages="tvaForm.montant.$error" role="alert">
          <div ng-message="required">surcharge This field is required</div>
          <div ng-message="odd">number is not valid</div>
        </div>

        <br/> 
        <div ng-click="montantRandom()" class="btn btn-info"> Générer un montant aléatoire</div>
      </div>

      <div class="form-group">
        <label>Le pourcentage TVA</label>
        <input type="text" name="tva" class="form-control" ng-model="tva" required/>
        <br />
        <div ng-messages="tvaForm.tva.$error" role="alert">
          <div class="alert-danger" ng-message="required">Ce champ est requis</div>
          <div class="alert-danger" ng-message="ng-pattern">pas de lettres</div>
        </div>
        <br />
        <div ng-click="tva=5.5" class="btn btn-default"> 5.5%</div>
        <div ng-click="tva=10" class="btn btn-info"> 10%</div>
        <div ng-click="tva=20" class="btn btn-primary"> 20%</div>

      </div>

      <strong>Montant TVA</strong> {{calculTVA().getMontantTVA() | currency:"&euro;"}}
      <hr>
      <strong>TOTAL TTC </strong> {{calculTVA().getMontantTTC() | currency:"&euro;"}}

      <div ng-hide="tva" style="color:red"> La TVA est obligratoire</div>
      <div ng-show="tvaIsZero()" style="color:red"> TVA 0 !</div>
      <div ng-show="tva>20"> Les TVA supérieures à 20% n'existe pas ! (encore) </div>
      <hr/>
      <br/>
      <div class="btn btn-success" ng-click="save()" ng-disabled="tvaForm.$invalid">
       Ce calcul m'émeut, je souhaite le sauvegarder. </div>

       <div ng-show="calculs" class="well">
         <ul>
           <li ng-repeat="calcul in calculs">
             {{calcul}}
           </li>
         </ul>
       </div>

       <div class="btn btn-danger" ng-click="deleteAll()" ng-show="calculs"> Effacer les calculs </div>



     </form>


   </div>
 </div>
